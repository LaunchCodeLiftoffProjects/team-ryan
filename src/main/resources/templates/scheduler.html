<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<html>
<head th:fragment="head">

    <title>Liftoff Recipe App</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link th:href="@{/fullcalendar/main.css}" rel='stylesheet' />
    <link th:href="@{/css/schedule.css}" rel="stylesheet" />
    <script type="text/javascript" th:src="@{/fullcalendar/main.js}"></script>
    <script type="text/javascript" th:src="@{/fullcalendar/draggable.js}"></script>

    <script>

        document.addEventListener('DOMContentLoaded', function() {
          var Calendar = FullCalendar.Calendar;
          var Draggable = FullCalendar.Draggable;

          var containerEl = document.getElementById('external-events');
          var calendarEl = document.getElementById('calendar');
          var checkbox = document.getElementById('drop-remove');

          var calendar = new Calendar(calendarEl, {
            schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',
            headerToolbar: {
                left: '',
                center: 'title',
                right: 'today prev,next'
            },
            editable: true,
            droppable: true,
            drop: function(info) {
              // is the "remove after drop" checkbox checked?
              if (checkbox.checked) {
                // if so, remove the element from the "Draggable Events" list
                info.draggedEl.parentNode.removeChild(info.draggedEl);
              }
            }
          });
          calendar.render();

    });

    </script>
</head>
<body>

<div class="content">

    <div th:replace="fragments :: page-header"></div>

    <H1>Put your recipes in action!</H1>
    <p>Drag your recipes to the day you'd like make it!</p>
    <br>

    <hr class="my-3"/>

    <div class="container">

        <div class="fixed" id='external-events'>

            <p class="left">MY RECIPES</p>

            <th:block th:each="recipe : ${recipes}">
                <div class='form-group fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
                    <div class='fc-event-main'>
                        <label>
                            <span th:text="${recipe.name}" ></span>
                        </label>
                    </div>
                </div>
            </th:block>

            <p class="left">
                <input type='checkbox' id='drop-remove' />
                <label for='drop-remove'>Remove After Drop</label>
            </p>

        </div>

        <div class="flex-item">
            <div id='calendar'></div>
        </div>

    </div>

</div>

<div th:replace="fragments :: footer" class="short-footer"></div>

</body>
</html>








